/*
 * JSP generated by Resin-3.0.14 (built Tue, 05 Jul 2005 11:03:36 PDT)
 */

package _jsp;
import javax.servlet.*;
import javax.servlet.jsp.*;
import javax.servlet.http.*;
import de.jose.web.WebApplication;
import de.jose.web.SessionUtil;

public class _tool__jsp extends com.caucho.jsp.JavaPage{
  private boolean _caucho_isDead;
  
  public void
  _jspService(javax.servlet.http.HttpServletRequest request,
              javax.servlet.http.HttpServletResponse response)
    throws java.io.IOException, javax.servlet.ServletException
  {
    javax.servlet.http.HttpSession session = request.getSession(true);
    com.caucho.server.webapp.Application _jsp_application = _caucho_getApplication();
    javax.servlet.ServletContext application = _jsp_application;
    com.caucho.jsp.PageContextImpl pageContext = com.caucho.jsp.QJspFactory.allocatePageContext(this, _jsp_application, request, response, null, session, 8192, true);
    javax.servlet.jsp.JspWriter out = pageContext.getOut();
    javax.servlet.ServletConfig config = getServletConfig();
    javax.servlet.Servlet page = this;
    response.setContentType("text/html");
    try {
      out.write(_jsp_string0, 0, _jsp_string0.length);
      
	WebApplication.open(application,response);
	SessionUtil su = new SessionUtil(request,session);

      out.write(_jsp_string1, 0, _jsp_string1.length);
      out.print((su.getInt("row",1,true)));
      out.write(_jsp_string2, 0, _jsp_string2.length);
      out.print((su.getInt("count-results",-1,true)));
      out.write(_jsp_string3, 0, _jsp_string3.length);
      out.print((su.getString("out","xsl.dhtml",true)));
      out.write(_jsp_string4, 0, _jsp_string4.length);
    } catch (java.lang.Throwable _jsp_e) {
      pageContext.handlePageException(_jsp_e);
    } finally {
      com.caucho.jsp.QJspFactory.freePageContext(pageContext);
    }
  }

  private java.util.ArrayList _caucho_depends = new java.util.ArrayList();

  public java.util.ArrayList _caucho_getDependList()
  {
    return _caucho_depends;
  }

  public void _caucho_addDepend(com.caucho.make.PersistentDependency depend)
  {
    super._caucho_addDepend(depend);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  public boolean _caucho_isModified()
  {
    if (_caucho_isDead)
      return true;
    if (com.caucho.util.CauchoSystem.getVersionId() != -8852640556211195023L)
      return true;
    for (int i = _caucho_depends.size() - 1; i >= 0; i--) {
      com.caucho.make.Dependency depend;
      depend = (com.caucho.make.Dependency) _caucho_depends.get(i);
      if (depend.isModified())
        return true;
    }
    return false;
  }

  public long _caucho_lastModified()
  {
    return 0;
  }

  public void destroy()
  {
      _caucho_isDead = true;
      super.destroy();
  }

  public void init(com.caucho.vfs.Path appDir)
    throws javax.servlet.ServletException
  {
    com.caucho.vfs.Path resinHome = com.caucho.util.CauchoSystem.getResinHome();
    com.caucho.vfs.MergePath mergePath = new com.caucho.vfs.MergePath();
    mergePath.addMergePath(appDir);
    mergePath.addMergePath(resinHome);
    com.caucho.loader.DynamicClassLoader loader;
    loader = (com.caucho.loader.DynamicClassLoader) getClass().getClassLoader();
    String resourcePath = loader.getResourcePathSpecificFirst();
    mergePath.addClassPath(resourcePath);
    com.caucho.vfs.Depend depend;
    depend = new com.caucho.vfs.Depend(appDir.lookup("tool.jsp"), 5831064744984953168L, false);
    com.caucho.jsp.JavaPage.addDepend(_caucho_depends, depend);
  }

  private final static char []_jsp_string1;
  private final static char []_jsp_string2;
  private final static char []_jsp_string3;
  private final static char []_jsp_string0;
  private final static char []_jsp_string4;
  static {
    _jsp_string1 = "\r\n<html>\r\n<head>\r\n	<style>\r\n		A { color:black; text-decoration: none; border-color: #e5e5e5; }\r\n		body { background-color: #e5e5e5; }\r\n		img { behavior: url(pngHack.htc ); }\r\n		img.on { background-color: #c5c5c5; border: groove; background: ButtonHighlight; border-color: #e5e5e5; }\r\n		img.off { background-color: #e5e5e5; border: ButtonShadow; border-color: #e5e5e5; }\r\n		img.button, span.button { background-color: #e5e5e5; border: ridge; padding: 4px; }\r\n	</style>\r\n</head>\r\n<body>\r\n	<form method=post>\r\n		<table width=\"100%\" height=\"100%\" celllpadding=0 celllspacing=0>\r\n			<tr><td align=\"center\">\r\n				<a href=\"javascript:nextrow(-1)\"><img src=\"nav/game.previous.cold.png\" align=\"baseline\"\r\n				                                                    name=\"game.previous\" border=\"0\" width=\"32\" height=\"36\"\r\n																	onmouseover=\"hover('game.previous',1)\" onmouseout=\"hover('game.previous',2)\"\r\n				                                                    onmousedown=\"hover('game.previous',3)\" onmouseup=\"hover('game.previous',4)\"></a>\r\n			</td></tr>\r\n			<tr><td align=\"center\">\r\n				<a href=\"collection.jsp\" target=\"_parent\"><img src=\"nav/search.cold.png\" align=\"baseline\"\r\n				                                               name=\"search\" border=\"0\" width=\"36\" height=\"32\"\r\n				                                               onmouseover=\"hover('search',1)\" onmouseout=\"hover('search',2)\"\r\n				                                               onmousedown=\"hover('search',3)\" onmouseup=\"hover('search',4)\"></a>\r\n			</td></tr>\r\n			<tr><td align=\"center\">\r\n				<a href=\"javascript:nextrow(+1)\"><img src=\"nav/game.next.cold.png\" align=\"baseline\"\r\n				                                                name=\"game.next\" border=\"0\" width=\"32\" height=\"36\"\r\n																onmouseover=\"hover('game.next',1)\" onmouseout=\"hover('game.next',2)\"\r\n				                                                onmousedown=\"hover('game.next',3)\" onmouseup=\"hover('game.next',4)\"></a>\r\n			</td></tr>\r\n			<tr><td height=\"100%\">\r\n			</td></tr>\r\n			<tr><td>\r\n				<a href=\"javascript:setoutput('xsl.dhtml')\"><img src=\"html.png\" name=\"html\"\r\n				                                                 alt=\"als HTML anzeigen\"\r\n				                                                 width=\"48\" height=\"48\"></a>\r\n			</td></tr>\r\n			<tr><td>\r\n				<a href=\"javascript:setoutput('xsl.pdf')\"><img src=\"pdf.png\" name=\"pdf\"\r\n				                                               alt=\"als PDF anzeigen\"\r\n				                                               width=\"48\" height=\"48\"></a>\r\n			</td></tr>\r\n			<tr><td>\r\n				<a href=\"javascript:setoutput('xsl.text')\"><img src=\"txt.png\" name=\"txt\"\r\n				                                                 alt=\"als Text anzeigen\"\r\n				                                                 width=\"48\" height=\"48\"></a>\r\n			</td></tr>\r\n			<tr><td>\r\n				<a href=\"javascript:setoutput('export.pgn')\"><img src=\"pgn.png\" name=\"pgn\"\r\n				                                                  alt=\"als PGN-Datei anzeigen\"\r\n				                                                  width=\"48\" height=\"48\"></a>\r\n			</td></tr>\r\n		</table>\r\n	</form>\r\n\r\n	<script language=\"JavaScript\">\r\n		var current_row = ".toCharArray();
    _jsp_string2 = ";\r\n		var max_row = ".toCharArray();
    _jsp_string3 = ";\r\n		var output = '".toCharArray();
    _jsp_string0 = "\r\n\r\n\r\n".toCharArray();
    _jsp_string4 = "';\r\n\r\n		function hover(name, state)\r\n		{\r\n			var image = document.images[name];\r\n\r\n			if (!image.isEnabled) {\r\n				image.src = \"nav/\"+name+\".off.png\";\r\n				return;\r\n			}\r\n\r\n			switch (state)\r\n			{\r\n			case 1: //  mouse over\r\n			case 4: //  mouse up\r\n				image.src = \"nav/\"+name+\".hot.png\"; break;\r\n			case 2: //  mouse out\r\n				image.src = \"nav/\"+name+\".cold.png\"; break;\r\n			case 3: //  mouse down\r\n				image.src = \"nav/\"+name+\".pressed.png\"; break;\r\n			}\r\n		}\r\n\r\n		function setoutput(output_type)\r\n		{\r\n			output = output_type;\r\n			top.GameView.location.href = 'game.jsp?out='+output_type;\r\n\r\n			document.images['html'].className ='off';\r\n			document.images['pdf'].className='off';\r\n			document.images['txt'].className='off';\r\n			document.images['pgn'].className='off';\r\n\r\n			if (output_type=='xsl.dhtml') document.images['html'].className='on';\r\n			if (output_type=='xsl.pdf') document.images['pdf'].className='on';\r\n			if (output_type=='xsl.text') document.images['txt'].className='on';\r\n			if (output_type=='export.pgn') document.images['pgn'].className='on';\r\n		}\r\n\r\n		function nextrow(diff) { setrow(current_row+diff); }\r\n\r\n		function setrow(new_row)\r\n		{\r\n			if (new_row < 0) new_row = 0;\r\n			if (max_row >= 0 && new_row >= max_row) new_row = max_row-1;\r\n\r\n			document.images['game.previous'].isEnabled = (new_row>1);\r\n			document.images['search'].isEnabled = true;\r\n			document.images['game.next'].isEnabled = (max_row<=0 || (new_row+1) < max_row);\r\n\r\n			hover('game.previous',2);\r\n			hover('search',2);\r\n			hover('game.next',2);\r\n\r\n			if (new_row==current_row) return;\r\n\r\n			top.GameView.location.href = ('game.jsp?row='+new_row);\r\n\r\n			current_row = new_row;\r\n		}\r\n	</script>\r\n\r\n	<script language=\"JavaScript\" defer>\r\n		setrow(current_row);\r\n		setoutput(output);\r\n	</script>\r\n</body>\r\n</html>".toCharArray();
  }
}
