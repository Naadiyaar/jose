==== Bugs

* double click insert variant; trying to delete it

? Charter buggy

=== Database Bugs

[x] database cut/copy/paste (-> --tmpdir)
[x] db copy: NoSuchElementException (harmless but annoying)
[?] db: duplicate key on insert (GameBuffer.Id?)
[x] db import: error in sql syntax
[ ] db: expected data on row ?
[x] MoreGame missing? detect on start; use more robust sequence, at least

=== Database Repair Tool
[ ] what's the best setting for myisamchk? -r -f, -o -f ?
[-] repair table Game extended use_frm
    -> no need for myisamchk, process contortions, ...
    -> results are not as good as myisamchk !

==== Project

[x] Java3D 1.5 x64 (--add-exports java.desktop/sun.awt=ALL-UNNAMED)
    [x] Windows
    [x] Linux
    [ ] Mac Intel
[x] mysql 5.0.67 x64 + myisamchk
    [x] Windows (x) stand-alone
    [x] Linux (x) embeded (x) stand-alone
    [ ] Mac intel
    [ ] Mac arm
[x] easylink: 64 bit, use latest hidapi
    [x] Windows: (-) fixes BLE
    [-] Linux builds but don't work

Alternative JREs:
* JBR 21: better hidpi support, but touch&drag bug (which is a showstopper for me).
    if ... that bug gets fixed, JBR would be the top candidate
* Zulu 21: small footprint, but blanks on fractional uiscale
* Oracle 23: seems to work, but don't hurry

==== Deprecated Stuff

* Positional Index !!
  - db fields are NOT USED at all
    -> makes sense because they would increase the db size x8
  - position search is performed exhaustively !?!
    - with shortcut for mat signature
    -> which is a bit dumb but effective

==== Old New Features

* arrows + text label
  - if possible, redraw only modified arrows

* "New Game from here"
  - turn board on engine start (or don't)
  - BUG fixed ?? engine loses synch. "stop" and "ponderhit" leave ignoreMoves > 0.

* keep playing after flagging ?

* Chessnut
  - beep: after each move
  - flip option with new game ??
  - check mate: fanfare, animation ...

* BUG: engine configurations
  - absolute path to directories?
  - can't delete? (Apply !!)

==== Interesting New Features

* LiChess Opening Explorer
    [x] download top games for a variation
    [x] show in EngPanel comments "{ Anand-Carlsen 2014, ... }" (but it should be clickable)
    [x] insert as sub-lines (most convenient, but a lot of text)
    [x] open in tab
    [x] copy to local db
    [ ] MoreGame.ExternalKey (:=Lichess GameId)

* replace Nalimov query with Lichess tablebase query

* Graph View interactive
    [x] mark current move.
    [ ] tooltips
    [ ] click navigate
    [x] use paintImmediately for BoardView2D score?  (instead of repaint!)

* Comment search
    * regex
    * replace

* Contempt Slider
        White seeks a draw - neutral - Black seeks a draw - Armageddon
    -1   ...............        0         ............         +1
        Black avoids a draw            White avoids a draw

    Armageddon = Black seeks a draw at any cost; white avoids a draw at any cost.

? see https://lczero.org/blog/2023/07/the-lc0-v0.30.0-wdl-rescale/contempt-implementation/
 there is some confusion about the effective parameters. Online docu is not up-to-date :(

* score POV adjustable?
  * uci reports current pov
  * UciPlugin "adjusts" pov to white (in the process creating artifacts, like negative win-percentage)
  * panel shows always white pov (might be user-adjustable)
  * eval bar **must** use white pov [0..1]
  * suggestions arrows **must** use current pov * [0..1]

? commentary arrows and highlights


==== Misc Errors


 ---- Fri Jan 03 10:47:22 CET 2025 ----

java.lang.RuntimeException: Invalid insert
	at de.jose.pgn.MoveNode$MoveNodeFormatter.flush(MoveNode.java:229)
	at de.jose.pgn.MoveNode$MoveNodeFormatter.figurine(MoveNode.java:207)
	at de.jose.chess.MoveFormatter.doFormatShort(MoveFormatter.java:246)
	at de.jose.chess.MoveFormatter.doFormat(MoveFormatter.java:188)
	at de.jose.chess.MoveFormatter.format(MoveFormatter.java:140)
	at de.jose.chess.MoveFormatter.format(MoveFormatter.java:127)
	at de.jose.chess.MoveFormatter.format(MoveFormatter.java:119)
	at de.jose.pgn.MoveNode.insert(MoveNode.java:151)
	at de.jose.pgn.Game.insertNode(Game.java:1008)
	at de.jose.pgn.Game.insertNode(Game.java:908)
	at de.jose.pgn.Game.doInsertMove(Game.java:797)
	at de.jose.pgn.Game.insertMove(Game.java:782)
	at de.jose.Application.handleUserMove(Application.java:2401)
